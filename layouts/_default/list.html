{{ define "main" }}

{{/* 2-REC - BEGIN */}}
{{/*
<main class="main inner" data-sidebar-position="{{ $.Param "sidebarPosition" }}">
    <div class="list__main {{ if $.Param "enableSidebar" }}{{ if eq ($.Param "sidebarPosition") "left" }}mr{{ else }}lm{{ end }}{{ else }}lmr{{ end }}">
*/}}
{{/* 2-REC - MID */}}
{{ $sidebarPosition := "none" }}
{{ if $.Param "sidebarListLeft" }}
    <div><br>LEFT<br></div>
    {{ if $.Param "sidebarListRight" }}
        <div><br>BOTH<br></div>
        {{ $sidebarPosition = "both" }}
    {{ else }}
        <div><br>LEFT2<br></div>
        {{ $sidebarPosition = "left" }}
        <div>SIDEBAR: {{ $sidebarPosition }}<br></div>
    {{ end }}
    <div>SIDEBAR: {{ $sidebarPosition }}<br></div>
{{ else }}
    <div><br>NO LEFT<br></div>
    {{ if $.Param "sidebarListRight" }}
        <div><br>RIGHT<br></div>
        {{ $sidebarPosition = "right" }}
    {{ end }}
{{ end }}
<main class="main inner" data-sidebar-position="$sidebarPosition">
    <div class="list__main {{ if (ne $sidebarPosition "none") }}{{ if eq $sidebarPosition "both" }}m{{ else if eq $sidebarPosition "left" }}mr{{ else }}lm{{ end }}{{ else }}lmr{{ end }}">
{{/* 2-REC - END */}}
        {{/* TODO: breadcrumb
        {{ partial "body/breadcrumb" . }}
        */}}
        <header class="list__header">
            <h5 class="list__header--title capitalize h5">{{.Title}}</h5>
        </header>

        <div class="list__header--desc single__contents p2">
            {{ .Content }}
        </div>

        <div class="summary__container" data-display="block">
            {{ $paginator := .Paginate (where .Pages "Type" .Type).ByWeight }}
            {{ range $paginator.Pages }}
                {{ .Render "summary" }}
            {{ end }}
            {{ partial "pagination/pagination" . }}
        </div>
        {{/* 2-REC: removed search */}}
    </div>    

    {{/* 2-REC - BEGIN */}}
    {{/*
    {{ if $.Param "enableSidebar" }}
        <aside class="list__sidebar {{ if eq ($.Param "sidebarPosition") "left" }}l{{ else }}r{{ end }}" data-dir="{{ $.Param "languagedir" | default "ltr" }}">
            {{ partial "sidebar/sidebar-list" . }}
        </aside>
    {{ end }}
    */}}
    {{/* 2-REC - MID */}}
    {{ if (ne $sidebarPosition "none") }}
        {{/* Left sidebar */}}
        {{ if or (eq $sidebarPosition "both") (eq $sidebarPosition "left") }}
        <aside class="list__sidebar l" data-dir="{{ $.Param "languagedir" | default "ltr" }}">
            {{/*TODO: pass dict context+side */}}
            {{ partial "sidebar/sidebar-list" . }}
        </aside>
        {{ end }}
        {{/* Right sidebar */}}
        {{ if or (eq $sidebarPosition "both") (eq $sidebarPosition "right") }}
        <aside class="list__sidebar r" data-dir="{{ $.Param "languagedir" | default "ltr" }}">
            {{/*TODO: pass dict context+side */}}
            {{ partial "sidebar/sidebar-list" . }}
        </aside>
        {{ end }}
    {{ end }}
    {{/* 2-REC - END */}}
</main>

{{ partial "script/sidebar-script" . }}
{{ partial "script/list-script" . }}
{{ end }}